# Batch One - Performance Profile Report
## Generated: Sat 03 Jan 2026 14:15:23 CAT
## Files Analyzed:
  - lib/pc/screens/reports_screen.dart

## Performance Findings

### File: lib/pc/screens/reports_screen.dart

**Loop Operations:**
```dart
148:                        "Total billed: \$${NumberFormat('#,##0.00').format(invoiceStats['total_billed'] ?? 0)} | Collected: \$${NumberFormat('#,##0.00').format(invoiceStats['total_collected'] ?? 0)}",
373:                              "Best for printing",
```

**Collection Operations:**
```dart
501:              .toList(),
```

**Async Operations:**
```dart
418:                            onPressed: () async {
421:                                  await ref.read(dashboardDataProvider.future);
441:                            onPressed: () async {
443:                                  await ref.read(dashboardDataProvider.future);
511:      onTap: () async {
512:        final picked = await showDateRangePicker(
```

**UI Build Methods:**
```dart
5:import '../../../../data/providers/report_builder_provider.dart';
13:class ReportsScreen extends ConsumerWidget {
17:  Widget build(BuildContext context, WidgetRef ref) {
41:                          _buildTopCardsSection(
46:                          _buildCustomReportBuilder(context, ref),
71:  Widget _buildTopCardsSection(
72:      BuildContext context, WidgetRef ref, String schoolId) {
121:                    // showDialog(context: context, builder: (_) => const CreateTemplateDialog());
182:            loading: () => _buildLoadingCards(),
183:            error: (err, stack) => _buildErrorCards(err.toString()),
185:          loading: () => _buildLoadingCards(),
186:          error: (err, stack) => _buildErrorCards(err.toString()),
192:  Widget _buildLoadingCards() {
219:  Widget _buildErrorCards(String error) {
260:      BuildContext context, WidgetRef ref, String schoolId, String reportType) {
269:  Widget _buildCustomReportBuilder(BuildContext context, WidgetRef ref) {
318:                      _buildLabel("Report Category"),
319:                      _buildDropdown(
336:                                _buildLabel("Date Range"),
337:                                _buildDateRangePicker(
349:                                _buildLabel("Grade Level / Department"),
350:                                _buildDropdown(
368:                      _buildLabel("Export Format"),
371:                          _buildRadioTile(
377:                          _buildRadioTile(
410:                        _buildSummaryRow("Type:", summary['Type']!),
411:                        _buildSummaryRow("Period:", summary['Period']!),
412:                        _buildSummaryRow("Scope:", summary['Scope']!),
413:                        _buildSummaryRow("Format:", summary['Format']!),
472:  Widget _buildLabel(String text) {
480:  Widget _buildDropdown(
508:  Widget _buildDateRangePicker(BuildContext context, DateTimeRange current,
517:          builder: (context, child) => Theme(
553:  Widget _buildRadioTile(
601:  Widget _buildSummaryRow(String label, String value) {
622:  void _showPreviewDialog(BuildContext context, WidgetRef ref, String schoolId,
626:      builder: (context) => Dialog(
666:                  builder: (context, ref, child) {
680:                            _buildPreviewSection('Invoice Statistics', [
681:                              _buildPreviewRow('Total Invoices',
683:                              _buildPreviewRow('Paid Invoices',
685:                              _buildPreviewRow('Pending Invoices',
687:                              _buildPreviewRow('Total Billed',
689:                              _buildPreviewRow('Total Collected',
691:                              _buildPreviewRow('Collection Rate',
735:  Widget _buildPreviewSection(String title, List<Widget> rows) {
760:  Widget _buildPreviewRow(String label, String value) {
```


